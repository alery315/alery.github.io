<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="39.组合总和 and 40.组合总和2"><meta name="keywords" content="leetcode"><meta name="author" content="alery,undefined"><meta name="copyright" content="alery"><title>39.组合总和 and 40.组合总和2 | alery</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.5.6"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-122810261-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#39-组合总和"><span class="toc-number">1.</span> <span class="toc-text">39.组合总和</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#40-组合总和2"><span class="toc-number">2.</span> <span class="toc-text">40.组合总和2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Python的参数传递"><span class="toc-number">3.</span> <span class="toc-text">Python的参数传递</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://ogb2lofos.bkt.clouddn.com/images08b85cee3d6d55fb9a52976a6a224f4a21a4dd91.jpg"></div><div class="author-info__name text-center">alery</div><div class="author-info__description text-center">Stars can not shine without darkness.</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">21</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">8</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">4</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">About me</div><a class="author-info-links__name text-center" href="https://alery315.github.io/about">alery</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://ogb2lofos.bkt.clouddn.com/images69045444_p0.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">alery</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">39.组合总和 and 40.组合总和2</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-11</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/leetcode/">leetcode</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2018/08/11/39.组合总和 and 40.组合总和2/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2018/08/11/39.组合总和 and 40.组合总和2/"></span></a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">1,019</span><span class="post-meta__separator">|</span><span>Reading time: 4 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="39-组合总和"><a href="#39-组合总和" class="headerlink" title="39.组合总和"></a>39.组合总和</h1><p>题目:</p>
<p>给定一个<strong>无重复元素</strong>的数组 candidates 和一个目标数 target ，找出 candidates 中所有可以使数字和为 target 的组合。</p>
<p>candidates 中的数字可以无限制重复被选取。</p>
<p>说明：</p>
<ul>
<li>所有数字（包括 target）都是正整数。</li>
<li>解集不能包含重复的组合。</li>
</ul>
<a id="more"></a>
<p>示例:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">输入: candidates = [2,3,6,7], target = 7,</span><br><span class="line">所求解集为:</span><br><span class="line">[</span><br><span class="line">  [7],</span><br><span class="line">  [2,2,3]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">输入: candidates = [2,3,5], target = 8,</span><br><span class="line">所求解集为:</span><br><span class="line">[</span><br><span class="line">  [2,2,2,2],</span><br><span class="line">  [2,3,3],</span><br><span class="line">  [3,5]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>思路:</p>
<blockquote>
<p>递归,设置好退出条件就行.</p>
</blockquote>
<blockquote>
<p>这里有个坑,递归的参数传递,最后总结一下.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># encoding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@author: alery</span></span><br><span class="line"><span class="string">@file: 39. 组合总和.py</span></span><br><span class="line"><span class="string">@time: 2018/8/11 18:31</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum</span><span class="params">(self, candidates, target)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type candidates: List[int]</span></span><br><span class="line"><span class="string">        :type target: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(t=[], tar=<span class="number">0</span>, res=[])</span>:</span></span><br><span class="line">            <span class="keyword">if</span> tar == <span class="number">0</span>:  <span class="comment"># 退出条件</span></span><br><span class="line">                t.sort()</span><br><span class="line">                <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> res:  <span class="comment"># 防止重复</span></span><br><span class="line">                    res.append(t[:])  <span class="comment"># 值传递,引用传递会出问题.</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> tar &lt; candidates[<span class="number">0</span>]:  <span class="comment"># 如果target比数组第一个还小,那无答案</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> candidates:</span><br><span class="line">                <span class="keyword">if</span> i &gt; tar:  <span class="comment"># 如果i大于target,无答案</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                t.append(i)  <span class="comment"># 进t</span></span><br><span class="line">                dfs(t, target - sum(t), res=res)</span><br><span class="line">                t.remove(i)  <span class="comment"># 退t</span></span><br><span class="line"></span><br><span class="line">        result = []</span><br><span class="line">        candidates.sort()</span><br><span class="line">        dfs(tar=target, res=result)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    s = Solution()</span><br><span class="line">    candidates = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>]</span><br><span class="line">    target = <span class="number">8</span></span><br><span class="line">    print(s.combinationSum(candidates, target))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h1 id="40-组合总和2"><a href="#40-组合总和2" class="headerlink" title="40.组合总和2"></a>40.组合总和2</h1><p>题目:</p>
<p>与39题的差异为,数字只能使用一次.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># encoding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@author: alery</span></span><br><span class="line"><span class="string">@file: 40.组合总和2.py</span></span><br><span class="line"><span class="string">@time: 2018/8/11 21:43</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum2</span><span class="params">(self, candidates, target)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type candidates: List[int]</span></span><br><span class="line"><span class="string">        :type target: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        length = len(candidates)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(start, t=[], tar=<span class="number">0</span>, res=[])</span>:</span></span><br><span class="line">            <span class="keyword">if</span> tar &lt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> tar == <span class="number">0</span>:</span><br><span class="line">                res.append(t[:])</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(start, length):</span><br><span class="line">                <span class="keyword">if</span> tar &lt; candidates[i]:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> i &gt; start <span class="keyword">and</span> candidates[i] == candidates[i - <span class="number">1</span>]:</span><br><span class="line">                    <span class="comment"># print(i)</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                t.append(candidates[i])</span><br><span class="line">                <span class="comment"># print(tar, t, start)</span></span><br><span class="line">                dfs(i + <span class="number">1</span>, t, target - sum(t), res)</span><br><span class="line">                t.remove(candidates[i])</span><br><span class="line"></span><br><span class="line">        result = []</span><br><span class="line">        candidates.sort()</span><br><span class="line">        dfs(<span class="number">0</span>, tar=target, res=result)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution2</span>:</span>  <span class="comment"># 这是别人的解法,他的res.append(path)没有写成值传递也对了...有点晕</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum2</span><span class="params">(self, candidates, target)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type candidates: List[int]</span></span><br><span class="line"><span class="string">        :type target: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        candidates = sorted(candidates)</span><br><span class="line">        res = []</span><br><span class="line">        self.dfs(candidates, target, <span class="number">0</span>, [], res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, nums, target, index, path, res)</span>:</span></span><br><span class="line">        print(target, path, index)</span><br><span class="line">        <span class="keyword">if</span> target &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> target == <span class="number">0</span>:</span><br><span class="line">            res.append(path)</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(index, len(nums)):</span><br><span class="line">            <span class="keyword">if</span> target &lt; nums[i]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> i &gt; index <span class="keyword">and</span> nums[i] == nums[i - <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            self.dfs(nums, target - nums[i], i + <span class="number">1</span>, path + [nums[i]], res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    s = Solution()</span><br><span class="line">    candidates = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">    target = <span class="number">5</span></span><br><span class="line">    print(s.combinationSum2(candidates, target))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h1 id="Python的参数传递"><a href="#Python的参数传递" class="headerlink" title="Python的参数传递"></a>Python的参数传递</h1><p>首先,Python的默认参数必须指向不变对象,因为默认参数比如L也是变量,每次调用该函数,如果L内容被改变了,那么默认参数的内容就变了.</p>
<p>比如代码:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span><span class="params">(L=[])</span>:</span></span><br><span class="line">  L.append(<span class="string">'end'</span>)</span><br><span class="line">  <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_end()</span><br><span class="line">[<span class="string">'end'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_end()</span><br><span class="line">[<span class="string">'end'</span>, <span class="string">'end'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 改为</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span><span class="params">(L=None)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> L <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">    L = []</span><br><span class="line">  L.append(<span class="string">'end'</span>)</span><br><span class="line">  <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>
<p>现在讲一下参数传递方式,基本的机制有两种,<strong>值传递</strong>和<strong>引用传递</strong>.</p>
<p>值传递,被调函数的形参作为被调函数的局部变量处理,即在堆栈中开辟了内存空间来存放主调函数实参的值,从而成为了实参的一个副本.值传递的特点是被调函数对形式参数的任何操作都是作为局部变量进行,不会影响主调的实参的值.</p>
<p>引用传递,被调函数的形参也作为局部变量在堆栈中开辟了内存空间,但是存放的是主调函数传的实参的地址,被调函数对形参的任何操作都被处理成间接寻址,即用过堆栈中的地址来访问实参,正因为如此,被调函数对形参的任何操作都影响了主调函数的实参变量.</p>
<p>递归调用中传递list,默认是引用传递,也就是保存的是list的地址.</p>
<p>下面代码有个地方,<strong>res.append(t[:])</strong>必须这样写,如果简单地写成<strong>res.append(t)</strong>,最终res的值就不对,我还是有点没理明白内部到底怎么工作的….</p>
</div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/leetcode/">leetcode</a></div><nav id="pagination"><div class="next-post pull-right"><a href="/2018/08/11/36-有效的数独/"><span>36.有效的数独</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://alery315.github.io/2018/08/11/39.组合总和 and 40.组合总和2/';
  this.page.identifier = '2018/08/11/39.组合总和 and 40.组合总和2/';
  this.page.title = '39.组合总和 and 40.组合总和2';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'alery' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-scr" src="https://alery.disqus.com/count.js" async></script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2018 By alery</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.6"></script><script src="/js/fancybox.js?version=1.5.6"></script><script src="/js/sidebar.js?version=1.5.6"></script><script src="/js/copy.js?version=1.5.6"></script><script src="/js/fireworks.js?version=1.5.6"></script><script src="/js/transition.js?version=1.5.6"></script><script src="/js/scroll.js?version=1.5.6"></script><script src="/js/head.js?version=1.5.6"></script></body></html>